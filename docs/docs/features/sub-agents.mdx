---
title: 子代理
description: OpenCowork 内置的专用子代理：CodeSearch、CodeReview、Planner、CronAgent。
---

# 子代理 / Sub-Agents

子代理是专用的 AI 助手，通过 `Task` 工具调用，每个子代理有特定的专业能力。

## 子代理定义 / Agent Definitions

子代理定义为 `.md` 文件，存储在 `resources/agents/` 目录：

```
resources/agents/
├── code-search.md    # 代码搜索专家
├── code-review.md    # 代码审查专家
├── planner.md        # 任务规划专家
└── cron-agent.md     # 定时任务专家
```

## 内置子代理 / Built-in Agents

### CodeSearch

专门用于在代码库中搜索相关代码：

- 使用 Glob 和 Grep 工具定位文件
- 理解代码结构和依赖关系
- 返回精确的文件路径和行号

### CodeReview

代码审查专家：

- 检查代码质量、安全性、性能
- 提供具体的改进建议
- 遵循语言最佳实践

### Planner

任务规划专家：

- 将复杂需求分解为可执行步骤
- 识别依赖关系和风险
- 生成结构化的执行计划

### CronAgent

定时任务管理专家：

- 创建和管理 Cron 调度
- 理解 Cron 表达式语法
- 监控任务执行状态

## 调用方式 / Usage

主 Agent 通过 `Task` 工具调用子代理：

```json
{
  "subagent_type": "code-search",
  "prompt": "在 src/ 目录下找到所有处理用户认证的文件",
  "run_in_background": false
}
```

所有子代理统一注册为 `Task` 工具，通过 `subagent_type` 参数区分。
